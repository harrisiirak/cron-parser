!function t(e,r,n){function i(a,o){if(!r[a]){if(!e[a]){var u="function"==typeof require&&require;if(!o&&u)return u(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}var h=r[a]={exports:{}};e[a][0].call(h.exports,function(t){var r=e[a][1][t];return i(r?r:t)},h,h.exports,t,e,r,n)}return r[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(){"use strict";Date.prototype.addYear=function(){this.setFullYear(this.getFullYear()+1)},Date.prototype.addMonth=function(){this.setMonth(this.getMonth()+1),this.setDate(1),this.setHours(0),this.setMinutes(0),this.setSeconds(0)},Date.prototype.addDay=function(){var t=this.getDate();this.setDate(t+1),this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.getDate()===t&&this.setDate(t+2)},Date.prototype.addHour=function(){var t=this.getHours();this.setHours(t+1),this.getHours()===t&&this.setHours(t+2),this.setMinutes(0),this.setSeconds(0)},Date.prototype.addMinute=function(){this.setMinutes(this.getMinutes()+1),this.setSeconds(0)},Date.prototype.addSecond=function(){this.setSeconds(this.getSeconds()+1)}},{}],2:[function(t,e){"use strict";function r(t,e){this._options=e,this._currentDate=new Date(e.currentDate),this._endDate=e.endDate?new Date(e.endDate):null,this._fields={};for(var n=0,i=r.map.length;i>n;n++){var s=r.map[n];this._fields[s]=t[n]}}t("./date"),r.map=["second","minute","hour","dayOfMonth","month","dayOfWeek"],r.predefined={"@yearly":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@hourly":"0 * * * *"},r.constraints=[[0,59],[0,59],[0,23],[1,31],[1,12],[0,7]],r.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],r.aliases={month:{jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},dayOfWeek:{sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6}},r.parseDefaults=["0","*","*","*","*","*"],r._parseField=function(t,e,n){function i(e){function r(e){var r=i.length>0?Math.max.apply(Math,i):-1;if(e instanceof Array)for(var s=0,a=e.length;a>s;s++){var o=e[s];if(o<n[0]||o>n[1])throw new Error("Constraint error, got value "+o+" expected range "+n[0]+"-"+n[1]);o>r&&i.push(o),r=Math.max.apply(Math,i)}else{if(e=+e,e<n[0]||e>n[1])throw new Error("Constraint error, got value "+e+" expected range "+n[0]+"-"+n[1]);"dayOfWeek"==t&&(e%=7),e>r&&i.push(e)}}var i=[],a=e.split(",");if(a.length>1)for(var o=0,u=a.length;u>o;o++)r(s(a[o]));else r(s(e));return i}function s(t){var e=1,r=t.split("/");return r.length>1?a(r[0],r[r.length-1]):a(t,e)}function a(t,e){var r=[],i=t.split("-");if(i.length>1){if(i.length<2||!i[0].length)return+t;var s=+i[0],a=+i[1];if(Number.isNaN(s)||Number.isNaN(a)||s<n[0]||a>n[1])throw new Error("Constraint error, got range "+s+"-"+a+" expected range "+n[0]+"-"+n[1]);if(s>=a)throw new Error("Invalid range: "+t);for(var o=e,u=s,h=a;h>=u;u++)o>0&&o%e===0?(o=1,r.push(u)):o++;return r}return+t}switch(t){case"month":case"dayOfWeek":var o=r.aliases[t];e=e.replace(/[a-z]{1,3}/gi,function(t){if(t=t.toLowerCase(),o[t])return o[t];throw new Error('Cannot resolve alias "'+t+'"')})}if(!/^[\d|/|*|\-|,]+$/.test(e))throw new Error("Invalid characters, got value: "+e);return-1!==e.indexOf("*")&&(e=e.replace(/\*/g,n.join("-"))),i(e)},r.prototype._findSchedule=function(){function t(t,e){for(var r=0,n=e.length;n>r;r++)if(e[r]>=t)return e[r]===t;return e[0]===t}function e(t,e){return t instanceof Array&&!t.length?!1:2!==e.length?!1:t.length===e[1]-(e[0]<1?-1:0)}var n=new Date(this._currentDate),i=this._endDate;for(0===this._fields.second[0]&&n.addMinute();;){if(i&&i.getTime()-n.getTime()<0)throw new Error("Out of the timespan range");var s=t(n.getDate(),this._fields.dayOfMonth),a=t(n.getDay(),this._fields.dayOfWeek),o=e(this._fields.dayOfMonth,r.constraints[3]),u=e(this._fields.dayOfWeek,r.constraints[4]),h=e(this._fields.dayOfWeek,r.constraints[5]);if(!u){var f=n.getYear(),l=n.getMonth()+1,d=1===l?11:l-1,c=r.daysInMonth[d-1],p=this._fields.dayOfMonth[this._fields.dayOfMonth.length-1],g=!(f%4||!(f%100)&&f%400);if(g&&(c=29),this._fields.month[0]===d&&p>c)throw new Error("Invalid explicit day of month definition")}if(o||!h||s)if(!o||h||a)if(o&&h||s||a)if(t(n.getMonth()+1,this._fields.month))if(t(n.getHours(),this._fields.hour))if(t(n.getMinutes(),this._fields.minute)){if(t(n.getSeconds(),this._fields.second))break;n.addSecond()}else n.addMinute();else n.addHour();else n.addMonth();else n.addDay();else n.addDay();else n.addDay()}return this._currentDate=n},r.prototype.next=function(){return this._findSchedule()},r.prototype.hasNext=function(){var t=this._currentDate;try{return this.next(),!0}catch(e){return!1}finally{this._currentDate=t}},r.prototype.iterate=function(t,e){for(var r=[],n=0,i=t;i>n;n++)try{var s=this.next();r.push(s),e&&e(s,n)}catch(a){break}return r},r.prototype.reset=function(){this._currentDate=new Date(this._options.currentDate)},r.parse=function n(t,e,i){function n(t,e){e||(e={}),e.currentDate||(e.currentDate=new Date),r.predefined[t]&&(t=r.predefined[t]);for(var n=[],i=t.split(" "),s=r.map.length-i.length,a=0,o=r.map.length;o>a;++a){var u=r.map[a],h=i[i.length>o?a:a-s];s>a||!h?n.push(r._parseField(u,r.parseDefaults[a],r.constraints[a])):n.push(r._parseField(u,h,r.constraints[a]))}return new r(n,e)}if("function"==typeof e&&(i=e,e={}),"function"!=typeof i)return n(t,e);try{return i(null,n(t,e))}catch(s){return i(s)}},e.exports=r},{"./date":1}],3:[function(t,e){"use strict";function r(){}var n=t("./expression");r._parseEntry=function(t){var e=t.split(" ");if(6===e.length)return{interval:n.parse(t)};if(e.length>6)return{interval:n.parse(t),command:e.slice(6,e.length)};throw new Error("Invalid entry: "+t)},r.parseExpression=function(t,e,r){return n.parse(t,e,r)},r.parseExpressionSync=r.parseExpression,r.parseString=function(t){for(var e=this,r=t.split("\n"),n={variables:{},expressions:[],errors:{}},i=0,s=r.length;s>i;i++){var a=r[i],o=null,u=a.replace(/^\s+|\s+$/g,"");if(u.length>0){if(u.match(/^#/))continue;if(o=u.match(/^(.*)=(.*)$/))n.variables[o[1]]=o[2];else{var h=null;try{h=e._parseEntry("0 "+u),n.expressions.push(h.interval)}catch(f){n.errors[u]=f}}}}return n},r.parseFile=function(e,n){t("fs").readFile(e,function(t,e){return t?(n(t),void 0):n(null,r.parseString(e.toString()))})},e.exports=r},{"./expression":2,fs:4}],4:[function(){},{}]},{},[3]);